<!DOCTYPE html>
<html lang="en">
    <script src="https://d3js.org/d3.v4.js"></script>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=yes" />
        <meta name="description" content="" />
        <meta name="author" content="" />
        <title>展店選址一把抓!</title>
        <!-- Favicon-->
        <link rel="icon" type="image/x-icon" href="assets/img/favicon.ico" />
        <!-- Font Awesome icons (free version)-->
        <script src="https://use.fontawesome.com/releases/v5.15.1/js/all.js" crossorigin="anonymous"></script>
        <!-- Google fonts-->
        <link href="https://fonts.googleapis.com/css?family=Montserrat:400,700" rel="stylesheet" type="text/css" />
        <link href="https://fonts.googleapis.com/css?family=Lato:400,700,400italic,700italic" rel="stylesheet" type="text/css" />
        <!-- Core theme CSS (includes Bootstrap)-->
        <link href="css/styles.css" rel="stylesheet" />
        <noscript>
            <iframe src="https://www.googletagmanager.com/ns.html?id=GTM-PGQ9WQT" height="0" width="0" style="display:none;visibility:hidden"></iframe>
          </noscript>
    </head>
    <body id="page-top">
        <!-- Navigation-->
        <nav class="navbar navbar-expand-lg bg-secondary text-uppercase fixed-top" id="mainNav">
            <div class="container">
                <img class="logo-img" src="logo.png" title="logo" alt="logo">
                <!--  <a class="navbar-brand js-scroll-trigger" href="#page-top">展店選址一把抓!</a>-->
                <button class="navbar-toggler navbar-toggler-right text-uppercase font-weight-bold bg-primary text-white rounded" type="button" data-toggle="collapse" data-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
                    Menu
                    <i class="fas fa-bars"></i>
                </button>
                <div class="collapse navbar-collapse" id="navbarResponsive">
                    <ul class="navbar-nav ml-auto">
                        <li class="nav-item mx-0 mx-lg-1"><a class="nav-link py-3 px-0 px-lg-3 rounded js-scroll-trigger" href="#portfolio">Information</a></li>
                        <li class="nav-item mx-0 mx-lg-1"><a class="nav-link py-3 px-0 px-lg-3 rounded js-scroll-trigger" href="#about">About</a></li>
                        <li class="nav-item mx-0 mx-lg-1"><a class="nav-link py-3 px-0 px-lg-3 rounded js-scroll-trigger" href="#Member">Member</a></li>
                    </ul>
                </div>
            </div>
        </nav>
        <!-- Masthead-->
        <header class="masthead bg-primary text-white text-center">
            <div class="container d-flex align-items-center flex-column">
                <!-- Masthead Avatar Image-->
                
                <div id="map" class="embed-responsive embed-responsive-4by3"></div>
                <div id="app" class="container">

                    <div class="row">
                      <div class="col">
                    </div>
                </div>
          
                <hr>
          
                <div class="row">
                  <div class="co">
                    <h5 class="d-inline-block">隱藏商家：</h5>
                    <div class="btn-group btn-group-toggle" data-toggle="buttons">
                      <label class="btn btn-info" :class="{ active: hideBusiness == 'hide' }">
                        <input type="radio" v-model="hideBusiness" value="hide"> 隱藏
                      </label>
                      <label class="btn btn-info" :class="{ active: hideBusiness == 'show' }">
                        <input type="radio" v-model="hideBusiness" value="show"> 顯示
                      </label>
                    </div>                            
                  </div>                        
                </div>
                <!-- <img class="masthead-avatar mb-5" src="assets/img/avataaars.svg" alt="" />-->
                <!-- Masthead Heading-->
                
                <!-- Icon Divider-->
                <div class="divider-custom divider-light">
                    <div class="divider-custom-line"></div>
                    <div class="divider-custom-icon"><i class="fas fa-star"></i></div>
                    <div class="divider-custom-line"></div>
                </div>
                <!-- Masthead Subheading-->
            <!--  <p class="masthead-subheading font-weight-light mb-0">Graphic Artist - Web Designer - Illustrator</p>-->
            <br><br><div id='show'>
            </div><br><br><br>
            <br><div id='rent'></div>
            <br><br><br>
            </div>
       
        </header>
        <!-- Portfolio Section-->
        <section class="page-section portfolio" id="portfolio">
            <div class="container">
                <!-- Portfolio Section Heading-->
                <h2 class="page-section-heading text-center text-uppercase text-secondary mb-0">Information</h2>
                <!-- Icon Divider-->
                <br><br>
                <div id='selection'>
                <select id="selectButton"></select>
                <select id="selectButton2"></select>
                </div><br>
                          <div id='d1'>
                          <br><label id='topic'>咖啡店數量</label>
                          <br><div id="my_dataviz4"></div></div>

                          <div id='d4'><br><label>周圍店家數量</label><br>  
                          <div id="my_dataviz"> </div></div> 

                          <div id='d2'><br><label>周圍設施</label>
                            <br>
                            <div id="my_dataviz2"> 
                              </div></div>

                          <div id='d3'><br> 
                              <label>平均人流量</label><br>
                              <div id="my_dataviz3"></div></div>
                <div class="divider-custom">
                    <div class="divider-custom-line"></div>
                    <div class="divider-custom-icon"><i class="fas fa-star"></i></div>
                    <div class="divider-custom-line"></div>                    
                </div>                
        <!-- About Section-->
        <section class="page-section bg-primary text-white mb-0" id="about">
            <div class="container">
                <!-- About Section Heading-->
                <h2 class="page-section-heading text-center text-uppercase text-white">About</h2>
                <!-- Icon Divider-->
                <br><div id='p'>在很多人心目中自己開店當老闆是很多人的夢想，如果在開店前，總是憑感覺、猶豫不決找店面位置<br>開店後生意總是忽冷忽熱，客流捉摸不定，因此我們建立一套展店選址一把抓<br>強大商業選址功能提供您的競爭對手、商家位置及各地店面租金，以及測量周圍人流</div><br>
                <div class="divider-custom divider-light">
                    <div class="divider-custom-line"></div>
                    <div class="divider-custom-icon"><i class="fas fa-star"></i></div>
                    <div class="divider-custom-line"></div>
                </div>
                <!-- About Section Content-->
                <div class="row">
                    </div>
                </div>
                <!-- About Section Button-->
                <div class="text-center mt-4">
                                        
                </div>
            </div>
        </section>
        <!-- Portfolio Section-->
        <section class="page-section portfolio" id="Member">
            <div class="container">
                <!-- Portfolio Section Heading-->
                <h2 class="page-section-heading text-center text-uppercase text-secondary mb-0">Member</h2>
                <!-- Icon Divider-->
                <div class="divider-custom">
                    <div class="divider-custom-line"></div>
                    <div class="divider-custom-icon"><i class="fas fa-star"></i></div>
                    <div class="divider-custom-line"></div>
                </div>
                <!-- Portfolio Grid Items-->
                <div class="row justify-content-center">
                    <!-- Portfolio Item 1-->
                    <div class="col-md-6 col-lg-4 mb-5">
                        <div class="portfolio-item mx-auto" data-toggle="modal" data-target="#portfolioModal1">
                            <div class="portfolio-item-caption d-flex align-items-center justify-content-center h-100 w-100">
                                <div class="portfolio-item-caption-content text-center text-white"><i class="fas fa-plus fa-3x"></i></div>
                            </div>
                            <img class="img-fluid" src="howard.jpg" alt="" />
                        </div>
                    </div>
                    <!-- Portfolio Item 2-->
                    <div class="col-md-6 col-lg-4 mb-5">
                        <div class="portfolio-item mx-auto" data-toggle="modal" data-target="#portfolioModal2">
                            <div class="portfolio-item-caption d-flex align-items-center justify-content-center h-100 w-100">
                                <div class="portfolio-item-caption-content text-center text-white"><i class="fas fa-plus fa-3x"></i></div>
                            </div>
                            <img class="img-fluid" src="IVY.jpg" alt="" />
                        </div>
                    </div>
                    <!-- Portfolio Item 3-->
                    <div class="col-md-6 col-lg-4 mb-5">
                        <div class="portfolio-item mx-auto" data-toggle="modal" data-target="#portfolioModal3">
                            <div class="portfolio-item-caption d-flex align-items-center justify-content-center h-100 w-100">
                                <div class="portfolio-item-caption-content text-center text-white"><i class="fas fa-plus fa-3x"></i></div>
                            </div>
                            <img class="img-fluid" src="MS.jpg" alt="" />
                        </div>
                    </div>
                    <!-- Portfolio Item 4-->
                    <div class="col-md-6 col-lg-4 mb-5 mb-lg-0">
                        <div class="portfolio-item mx-auto" data-toggle="modal" data-target="#portfolioModal4">
                            <div class="portfolio-item-caption d-flex align-items-center justify-content-center h-100 w-100">
                                <div class="portfolio-item-caption-content text-center text-white"><i class="fas fa-plus fa-3x"></i></div>
                            </div>
                            <img class="img-fluid" src="TSAI.jpg" alt="" />
                        </div>
                    </div>
                    <!-- Portfolio Item 5-->
                    <div class="col-md-6 col-lg-4 mb-5 mb-md-0">
                        <div class="portfolio-item mx-auto" data-toggle="modal" data-target="#portfolioModal5">
                            <div class="portfolio-item-caption d-flex align-items-center justify-content-center h-100 w-100">
                                <div class="portfolio-item-caption-content text-center text-white"><i class="fas fa-plus fa-3x"></i></div>
                            </div>
                            <img class="img-fluid" src="YH.jpg" alt="" />
                        </div>
                    </div>
                    <!-- Portfolio Item 6-->
                    <div class="col-md-6 col-lg-4">
                        <div class="portfolio-item mx-auto" data-toggle="modal" data-target="#portfolioModal6">
                            <div class="portfolio-item-caption d-flex align-items-center justify-content-center h-100 w-100">
                                <div class="portfolio-item-caption-content text-center text-white"><i class="fas fa-plus fa-3x"></i></div>
                            </div>
                            <img class="img-fluid" src="YY.jpg" alt="" />
                        </div>
                    </div>
                </div>
            </div>
        </section>
                    <!-- About Section-->
        
                <!-- Contact Section Form-->
                
        <!-- Footer-->
        <footer class="footer text-center">
            <div class="container">
                <div class="row">
                    <!-- Footer Location-->
                    <div class="col-lg-4 mb-5 mb-lg-0">
                        <h4 class="text-uppercase mb-4">Location</h4>
                        <p class="lead mb-0">
                            大安區復興南路一段390號
                            <br />
                            
                        </p>
                    </div>
                    <!-- Footer Social Icons-->
                    <div class="col-lg-4 mb-5 mb-lg-0">
                        <h4 class="text-uppercase mb-4">Around the Web</h4>
                        <a class="btn btn-outline-light btn-social mx-1"  href="https://github.com/belle3759/group1"><img class="git-img" src="git.png"  href="https://github.com/belle3759/group1"></a>
                        <!--<a class="btn btn-outline-light btn-social mx-1" href="#!"><i class="fab fa-fw fa-facebook-f"></i></a>
                        <a class="btn btn-outline-light btn-social mx-1" href="#!"><i class="fab fa-fw fa-twitter"></i></a>
                        <a class="btn btn-outline-light btn-social mx-1" href="#!"><i class="fab fa-fw fa-linkedin-in"></i></a>
                        <a class="btn btn-outline-light btn-social mx-1" href="#!"><i class="fab fa-fw fa-dribbble"></i></a>-->
                    </div>
                    <!-- Footer About Text-->
                    <div class="col-lg-4">
                        <h4 class="text-uppercase mb-4">About Us</h4>
                        <p class="lead mb-0">
                            This is a free to use, MIT website created by III BDSE15 Group1
                            
                            .
                        </p>
                    </div>
                </div>
            </div>
        </footer>
        <div class="copyright py-4 text-center text-white">
            <div class="container"><small>Copyright © Your Website 2021</small></div>
        </div>
        <!-- Scroll to Top Button (Only visible on small and extra-small screen sizes)-->
        <div class="scroll-to-top d-lg-none position-fixed">
            <a class="js-scroll-trigger d-block text-center text-white rounded" href="#page-top"><i class="fa fa-chevron-up"></i></a>
        </div>
        <div class="portfolio-modal modal fade" id="portfolioModal1" tabindex="-1" role="dialog" aria-labelledby="portfolioModal1Label" aria-hidden="true">
            <div class="modal-dialog modal-xl" role="document">
                <div class="modal-content">
                    <button class="close" type="button" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true"><i class="fas fa-times"></i></span>
                    </button>
                    <div class="modal-body text-center">
                        <div class="container">
                            <div class="row justify-content-center">
                                <div class="col-lg-8">
                                    <!-- Portfolio Modal - Title-->
                                    <h2 class="portfolio-modal-title text-secondary text-uppercase mb-0" id="portfolioModal1Label">Howard</h2>
                                    <!-- Icon Divider-->
                                    <div class="divider-custom">
                                        <div class="divider-custom-line"></div>
                                        <div class="divider-custom-icon"><i class="fas fa-star"></i></div>
                                        <div class="divider-custom-line"></div>
                                    </div>
                                    <!-- Portfolio Modal - Image-->
                                    <img class="img-fluid rounded mb-5" src="howard.jpg" alt="" />
                                    <!-- Portfolio Modal - Text-->
                                    <p class="mb-5">BDSE15 Group1-組長<br>負責項目:資料收集/資料前處理</p>
                                    <button class="btn btn-primary" data-dismiss="modal">
                                        <i class="fas fa-times fa-fw"></i>
                                        Close Window
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- Portfolio Modal 2-->
        <div class="portfolio-modal modal fade" id="portfolioModal2" tabindex="-1" role="dialog" aria-labelledby="portfolioModal2Label" aria-hidden="true">
            <div class="modal-dialog modal-xl" role="document">
                <div class="modal-content">
                    <button class="close" type="button" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true"><i class="fas fa-times"></i></span>
                    </button>
                    <div class="modal-body text-center">
                        <div class="container">
                            <div class="row justify-content-center">
                                <div class="col-lg-8">
                                    <!-- Portfolio Modal - Title-->
                                    <h2 class="portfolio-modal-title text-secondary text-uppercase mb-0" id="portfolioModal2Label">Ivy Chang</h2>
                                    <!-- Icon Divider-->
                                    <div class="divider-custom">
                                        <div class="divider-custom-line"></div>
                                        <div class="divider-custom-icon"><i class="fas fa-star"></i></div>
                                        <div class="divider-custom-line"></div>
                                    </div>
                                    <!-- Portfolio Modal - Image-->
                                    <img class="img-fluid rounded mb-5" src="IVY.jpg" alt="" />
                                    <!-- Portfolio Modal - Text-->
                                    <p class="mb-5">BDSE15 Group1<br>負責項目:平台建置
                                        /網頁視覺化
                                        </p>
                                    <button class="btn btn-primary" data-dismiss="modal">
                                        <i class="fas fa-times fa-fw"></i>
                                        Close Window
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- Portfolio Modal 3-->
        <div class="portfolio-modal modal fade" id="portfolioModal3" tabindex="-1" role="dialog" aria-labelledby="portfolioModal3Label" aria-hidden="true">
            <div class="modal-dialog modal-xl" role="document">
                <div class="modal-content">
                    <button class="close" type="button" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true"><i class="fas fa-times"></i></span>
                    </button>
                    <div class="modal-body text-center">
                        <div class="container">
                            <div class="row justify-content-center">
                                <div class="col-lg-8">
                                    <!-- Portfolio Modal - Title-->
                                    <h2 class="portfolio-modal-title text-secondary text-uppercase mb-0" id="portfolioModal3Label">Kevin Tu</h2>
                                    <!-- Icon Divider-->
                                    <div class="divider-custom">
                                        <div class="divider-custom-line"></div>
                                        <div class="divider-custom-icon"><i class="fas fa-star"></i></div>
                                        <div class="divider-custom-line"></div>
                                    </div>
                                    <!-- Portfolio Modal - Image-->
                                    <img class="img-fluid rounded mb-5" src="MS.jpg" alt="" />
                                    <!-- Portfolio Modal - Text-->
                                    <p class="mb-5">BDSE15 Group1<br>負責項目:資料前處理
                                        /資料分析
                                        </p>
                                    <button class="btn btn-primary" data-dismiss="modal">
                                        <i class="fas fa-times fa-fw"></i>
                                        Close Window
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- Portfolio Modal 4-->
        <div class="portfolio-modal modal fade" id="portfolioModal4" tabindex="-1" role="dialog" aria-labelledby="portfolioModal4Label" aria-hidden="true">
            <div class="modal-dialog modal-xl" role="document">
                <div class="modal-content">
                    <button class="close" type="button" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true"><i class="fas fa-times"></i></span>
                    </button>
                    <div class="modal-body text-center">
                        <div class="container">
                            <div class="row justify-content-center">
                                <div class="col-lg-8">
                                    <!-- Portfolio Modal - Title-->
                                    <h2 class="portfolio-modal-title text-secondary text-uppercase mb-0" id="portfolioModal4Label">Ken Tsai</h2>
                                    <!-- Icon Divider-->
                                    <div class="divider-custom">
                                        <div class="divider-custom-line"></div>
                                        <div class="divider-custom-icon"><i class="fas fa-star"></i></div>
                                        <div class="divider-custom-line"></div>
                                    </div>
                                    <!-- Portfolio Modal - Image-->
                                    <img class="img-fluid rounded mb-5" src="TSAI.jpg" alt="" />
                                    <!-- Portfolio Modal - Text-->
                                    <p class="mb-5">BDSE15 Group1<br>負責項目:資料收集/
                                        資料前處理</p>
                                        
                                    <button class="btn btn-primary" data-dismiss="modal">
                                        <i class="fas fa-times fa-fw"></i>
                                        Close Window
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- Portfolio Modal 5-->
        <div class="portfolio-modal modal fade" id="portfolioModal5" tabindex="-1" role="dialog" aria-labelledby="portfolioModal5Label" aria-hidden="true">
            <div class="modal-dialog modal-xl" role="document">
                <div class="modal-content">
                    <button class="close" type="button" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true"><i class="fas fa-times"></i></span>
                    </button>
                    <div class="modal-body text-center">
                        <div class="container">
                            <div class="row justify-content-center">
                                <div class="col-lg-8">
                                    <!-- Portfolio Modal - Title-->
                                    <h2 class="portfolio-modal-title text-secondary text-uppercase mb-0" id="portfolioModal5Label">Yunghui</h2>
                                    <!-- Icon Divider-->
                                    <div class="divider-custom">
                                        <div class="divider-custom-line"></div>
                                        <div class="divider-custom-icon"><i class="fas fa-star"></i></div>
                                        <div class="divider-custom-line"></div>
                                    </div>
                                    <!-- Portfolio Modal - Image-->
                                    <img class="img-fluid rounded mb-5" src="YH.jpg" alt="" />
                                    <!-- Portfolio Modal - Text-->
                                    <p class="mb-5">BDSE15 Group1<br>負責項目:資料前處理
                                        /資料分析
                                        /機器學習
                                        </p>
                                    <button class="btn btn-primary" data-dismiss="modal">
                                        <i class="fas fa-times fa-fw"></i>
                                        Close Window
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- Portfolio Modal 6-->
        <div class="portfolio-modal modal fade" id="portfolioModal6" tabindex="-1" role="dialog" aria-labelledby="portfolioModal6Label" aria-hidden="true">
            <div class="modal-dialog modal-xl" role="document">
                <div class="modal-content">
                    <button class="close" type="button" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true"><i class="fas fa-times"></i></span>
                    </button>
                    <div class="modal-body text-center">
                        <div class="container">
                            <div class="row justify-content-center">
                                <div class="col-lg-8">
                                    <!-- Portfolio Modal - Title-->
                                    <h2 class="portfolio-modal-title text-secondary text-uppercase mb-0" id="portfolioModal6Label">Winnie Chang</h2>
                                    <!-- Icon Divider-->
                                    <div class="divider-custom">
                                        <div class="divider-custom-line"></div>
                                        <div class="divider-custom-icon"><i class="fas fa-star"></i></div>
                                        <div class="divider-custom-line"></div>
                                    </div>
                                    <!-- Portfolio Modal - Image-->
                                    <img class="img-fluid rounded mb-5" src="YY.jpg" alt="" />
                                    <!-- Portfolio Modal - Text-->
                                    <p class="mb-5">BDSE15 Group1<br>負責項目:資料收集/
                                        資料前處理                                        
                                        </p>
                                    <button class="btn btn-primary" data-dismiss="modal">
                                        <i class="fas fa-times fa-fw"></i>
                                        Close Window
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Bootstrap core JS-->
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js"></script>
        <!-- Third party plugin JS-->
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-easing/1.4.1/jquery.easing.min.js"></script>
        <!-- Contact form JS-->
        <script src="assets/mail/jqBootstrapValidation.js"></script>
        <script src="assets/mail/contact_me.js"></script>
        <!-- Core theme JS-->
        <script src="js/scripts.js"></script>
        <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAi-WUXxGPpfIO7zsso1RbKW91Dw1xmfaw" async defer></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/vue/2.6.10/vue.min.js"></script>

    <!-- map -->
   

      
      <!-- 將 YOUR_API_KEY 替換成你的 API Key 即可 -->
      <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBggrhX-unU_iR4RKLFoohZW9dlo-hiiyw" async defer></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/vue/2.6.10/vue.min.js"></script>
  
      <!-- map -->
      <script>
        const googleMap = new Vue({
            el: '#app',
        data: {
          map: null,
          hideBusiness: 'show', // 隱藏商周：hide隱藏
          hideStyle: [
            {
              featureType: 'poi.business',
              stylers: [{
                visibility: 'off'
              }]
            }
          ]
        },
          methods: {
            // init google map
            initMap() {
              
              // 預設顯示的地點：台北車站
              let location = {
                lat: 25.047701999999997, // 經度
                lng: 121.5173735 // 緯度
              };
              
              // 建立地圖
              this.map = new google.maps.Map(document.getElementById('map'), {
                center: location,
                zoom: 16,
                mapTypeId: 'terrain'
              });

    
  
              // 放置多個marker
            fetch('./pre.geojson')
              .then(results => results.json())
              .then(result => {
                let res = result;
                Array.prototype.forEach.call(res, r => {
                  let latLng = new google.maps.LatLng(r.lat, r.lng)  

                
                  let marker = new google.maps.Marker({
            
                
                    position: latLng,
                    icon:'mrticon.png', // 自定義圖標，google也有提供5個預設的圖標，參考下方*1
                    map: this.map,
                    animation: google.maps.Animation.DROP, // DROP掉下來、BOUNCE一直彈跳
                    draggable: false, // true、false可否拖拉
                    })                                     
                  });
              });
  
            }
          },
          created() {
          window.addEventListener('load', () => {
            this.initMap();
          });
        },
        watch: {
          // hideBusiness的值變動時，切換商家的隱藏/顯示
          hideBusiness: function(val) {
            if(val == 'hide') {
              this.map.setOptions({
                styles: this.hideStyle
              });
            }
            else {
              this.map.setOptions({
                styles: null
              });
            }
          }
        }
      });
       // set the dimensions and margins of the graph
    var margin = {top: 20, right: 40, bottom: 65, left: 90},
        width = 700 - margin.left - margin.right,
        height = 400 - margin.top - margin.bottom;
    
       
    // append the svg object to the body of the page
    var svg = d3.select("#my_dataviz")
      .append("svg")
        .attr("width", width + margin.left + margin.right)
        .attr("height", height + margin.top + margin.bottom)
      .append("g")
        .attr("transform",
              "translate(" + margin.left + "," + margin.top + ")");

    //
    var svg2 = d3.select("#my_dataviz2")
      .append("svg")
        .attr("width", width + margin.left + margin.right)
        .attr("height", height + margin.top + margin.bottom)
      .append("g")
        .attr("transform",
              "translate(" + margin.left + "," + margin.top + ")");
    var svg3 = d3.select("#my_dataviz3")
      .append("svg")
        .attr("width", width + margin.left + margin.right)
        .attr("height", height + margin.top + margin.bottom)
      .append("g")
        .attr("transform",
              "translate(" + margin.left + "," + margin.top + ")");
    
    var svg4 = d3.select("#my_dataviz4")
      .append("svg")
        .attr("width", width + margin.left + margin.right)
        .attr("height", height + margin.top + margin.bottom)
      .append("g")
        .attr("transform",
              "translate(" + margin.left + "," + margin.top + ")");
    
    // Parse the Data
    d3.csv("Cat_Cafe_Pre.csv", function(data) {

    data.forEach(d =>{
    d.Cat_Cafe=+d.Cat_Cafe;
    d.Num_Bar=+d.Num_Bar;
    d.Num_Drink=+d.Num_Drink;
    d.Num_Gym=+d.Num_Gym;
    d.Num_Lodging=+d.Num_Lodging;
    d.Population=+d.Population
    d.Num_Atm=+d.Num_Atm
    d.Num_Cstore=+d.Num_Cstore
    d.All_School=+d.All_School;
    d.Num_Park=+d.Num_Park;
    d.Num_Med=+d.Num_Med;
    d.Vol_All=+d.Vol_All;
    d.Vol_Workday=+d.Vol_Workday;
    d.Weekend=+d.Weekend;
    d.Cat_Cafe_Pre=+d.Cat_Cafe_Pre;
    d.Potential=+d.Potential;
    d.Median_Rent=+d.Median_Rent
  
  });



       var Cafe =[];
       var Pop=[];
       var ATMC=[];
       var Vol=[];
       var Cafe2=[];
       var Po=[];
       var Rent=[];
       var rent=0
       var po=0
       var Cafe_np=0
       var cstore=0
       var atm=0
       var popu=0
       var Cafe_n=0
       var Bar_n=0
       var Drink_n=0
       var Gym_n=0
       var Lodging_n=0
       var school =0
       var med=0
       var park=0
       var volall=0
       var volwd=0
       var volweekend=0
       var Name=['餐酒','手搖飲','健身房','住宿']
       var Name2=['ATM','便利商店','學校','公園','醫療機構']
       var Name3=['日平均']
       var Name4=['現有']
    
      // Add X axis
      var x = d3.scaleLinear()
        .domain([0, 60])
        .range([ 0, width]);
      svg.append("g")
        .attr("transform", "translate(0," + height + ")")
        .call(d3.axisBottom(x))
        .selectAll("text")
          .attr("transform", "translate(-10,0)rotate(-45)")
          .style("text-anchor", "end")
          .style('font-size','20px');
    
      // Y axis
      var y = d3.scaleBand()
        .range([ 0, height ])
        .domain(Name)//data.map(function(d,i) { return Name[i-1]; }))
        .padding(.1);
      svg.append("g")
        .call(d3.axisLeft(y))
        .style('font-size','20px')

     
      //X2
    var x2 = d3.scaleLinear()
        .domain([0, 100])
        .range([ 0, width]);
      svg2.append("g")
        .attr("transform", "translate(0," + height + ")")
        .call(d3.axisBottom(x2))
        .selectAll("text")
          .attr("transform", "translate(-10,0)rotate(-45)")
          .style("text-anchor", "end")
          .style('font-size','20px');
    
      // Y2 axis
      var y2 = d3.scaleBand()
        .range([ 0, height ])
        .domain(Name2)//data.map(function(d,i) { return Name2[i-1]; }))
        .padding(.1);
      svg2.append("g")
        .call(d3.axisLeft(y2))
        .style('font-size','20px')
     //X3
    var x3 = d3.scaleLinear()
        .domain([0, 140000])
        .range([ 0, width]);
      svg3.append("g")
        .attr("transform", "translate(0," + height + ")")
        .call(d3.axisBottom(x3))
        .selectAll("text")
          .attr("transform", "translate(-10,0)rotate(-45)")
          .style("text-anchor", "end")
          .style('font-size','20px');
    
    // Y3 axis
      var y3 = d3.scaleBand()
        .range([ 80, height ])
        .domain(Name3)//data.map(function(d,i) { return Name2[i-1]; }))
        .padding(.5);
      svg3.append("g")
        .call(d3.axisLeft(y3))
        .style('font-size','20px')
 /////X4
   var x4 = d3.scaleLinear()
        .domain([0, 60])
        .range([ 0, width]);
      svg4.append("g")
        .attr("transform", "translate(0," + height + ")")
        .call(d3.axisBottom(x4))
        .selectAll("text")
          .attr("transform", "translate(-10,0)rotate(-45)")
          .style("text-anchor", "end")
          .style('font-size','20px');
    
      // Y axis
      var y4 = d3.scaleBand()
        .range([ 80, height ])
        .domain(Name4)//data.map(function(d,i) { return Name[i-1]; }))
        .padding(.5);
      svg4.append("g")
        .call(d3.axisLeft(y4))
        .style('font-size','20px')

    var potien=[]
    var Name5=[]
    var allGroup = []
    var id = []
    var ca=[]
    for (i=0 ;i<data.length; i++){
        if (data[i].Activated == 1)
       {allGroup.push(data[i].Station_Name)};
}
    for (i=0 ;i<data.length; i++){
        if (data[i].Activated == 0)
       {id.push(data[i].Station_Name)};
 }

// add the options to the button

d3.select("#selectButton")
      .selectAll('myOptions')
     	.data(allGroup)
      .enter()
    	.append('option')
      .text(function (d) { return d; }) // text showed in the menu
      .attr("value", function (d) { return d; }) 
d3.select("#selectButton2")
      .selectAll('myOptions')
     	.data(id)
      .enter()
    	.append('option')
      .text(function (d) { return d; }) // text showed in the menu
      .attr("value", function (d) { return d; }) 
      
  // corresponding value returned by the buttom  

  ////
function update(selectedGroup) {

for ( let item of data) {          
          if (item.Station_Name == selectedGroup){
             Cafe = [];
             Pop=[];
             ATMC=[];
             Vol=[];
             Cafe2=[];
             Po=[];
             Rent=[];
             rent=item.Median_Rent
             Cafe_n=item.Num_Cafe
             Bar_n=item.Num_Bar
             Drink_n=item.Num_Drink
             Gym_n=item.Num_Gym
             Lodging_n=item.Num_Lodging
             popu=item.Population
             atm=item.Num_Atm
             school=item.All_School
             cstore=item.Num_Cstore
             park=item.Num_Park
             med=item.Num_Med
             volall=item.Vol_All
             volwd=item.Vol_Workday
             volweekend=item.Weekend
             po=item.Potential

             Cafe.push(item.Num_Bar,item.Num_Drink,item.Num_Gym,item.Num_Lodging)
             Pop.push(item.Population)
             ATMC.push(item.Num_Atm,item.Num_Cstore,item.All_School,item.Num_Park,item.Num_Med)
             Vol.push(item.Vol_All)//item.Vol_Workday,item.Weekend,)
             Cafe2.push(item.Num_Cafe)
             Po.push(item.Potential)
             Rent.push(item.Median_Rent)
             console.log(Cafe2)
          
          };
  }     
     d3.select('#show').text('發展潛力: 等級'+d3.sum(Po+5)).style('font-size','50px').style('color','#335495').style('background-color','#80d4f6')
     d3.select('#rent').text("店租中位數: $" + d3.sum(Rent)+'/坪').style('font-size','50px').style('color','#1c778c').style('background-color','#D7FFF1')
      //Bars
      svg.selectAll("myRect")
        .data(Cafe)
        .enter()
        .append("rect")
        .attr("x", x(0) )
        .attr("y", function(d,i) { return y(Name[i]); })
        .attr("width", function(d,i) { return 0 })
        .attr("height", y.bandwidth() )
        .attr("fill", "#d19052")//"#FFA042")


        svg.selectAll("rect")
            .transition()
            .duration(800)
            .attr("width", function(d,i) { return x(Cafe[i]); })
            .attr("height", y.bandwidth())
            .delay(function(d,i){console.log(i) ; return(i)})



        ////bar4
        svg4.selectAll("myRect")
        .data(Cafe2)
        .enter()
        .append("rect")
        .attr("x", x4(0) )
        .attr("y", function(d,i) { return y4(Name4[i]); })
        .attr("width", function(d,i) { return 0 })
        .attr("height", y4.bandwidth())
        .attr("fill", "#4bab60")//"#f0edaf")

        svg4.selectAll("rect")
            .transition()
            .duration(800)
            .attr("width", function(d,i) { return x4(Cafe2[i])})
            .attr("height", y4.bandwidth())
            .delay(function(d,i){console.log(i) ; return(i)})     


         //Bars2
      svg2.selectAll("myRect")
        .data(ATMC)
        .enter()
        .append("rect")
        .attr("x", x2(0) )
        .attr("y", function(d,i) { return y2(Name2[i]); })
        .attr("width", function(d,i) { return 0 })
        .attr("height", y2.bandwidth() )
        .attr("fill", "#46A3FF")

    svg2.selectAll("rect")
            .transition()
            .duration(800)
            .attr("width", function(d,i) { return x2(ATMC[i]); })
            .attr("height", y2.bandwidth())
            .delay(function(d,i){console.log(i) ; return(i)})
    ////bar3
    svg3.selectAll("myRect")
        .data(Vol)
        .enter()
        .append("rect")
        .attr("x", x3(0) )
        .attr("y", function(d,i) { return y3(Name3[i]); })
        .attr("width", function(d,i) { return 0 })
        .attr("height", y3.bandwidth() )
        .attr("fill", "#4F9D9D")

    svg3.selectAll("rect")
            .transition()
            .duration(800)
            .attr("width", function(d,i) { return x3(Vol[i]*1000); })
            .attr("height", y3.bandwidth())
            .delay(function(d,i){console.log(i) ; return(i)})

        } 
  
       // When the button is changed, run the updateChart function
       d3.select("#selectButton").on("change", function(d) {
             // recover the option that has been chosen  
                   var selectedOption = d3.select(this).property("value")
                   d3.selectAll('rect').remove()
             // run the updateChart function with this selected option
                     update(selectedOption)
               })
       d3.select("#selectButton2").on("change", function(d) {
             // recover the option that has been chosen  
               var selectedOption = d3.select(this).property("value")
               d3.selectAll('rect').remove()
    // run the updateChart function with this selected option
                     update(selectedOption)
               })
                 
         })
     </script>
  </body>
</html>
